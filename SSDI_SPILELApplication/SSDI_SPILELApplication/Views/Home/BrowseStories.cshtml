
@model SSDI_SPILELApplication.Models.BrowseStoryModel

@{
    ViewBag.Title = "View All Stories";
}
<head>
    <script src="~/Scripts/angular.min.js"></script>
</head>
@using (Html.BeginForm("FilterStories", "Home", FormMethod.Post))
{
    <body>
        <div ng-app="BrowseStory" ng-controller="BrowseStoryController">
            <form id="BrowseStories" name="BrowseStories">
                <table class="table">
                    <tr>
                        <td style="text-align:center">
                            <h4>
                                View All Stories
                            </h4>
                        </td>
                    </tr>
                    
                    
                    <tr>
                        
                        
                        <td style="text-align: right">
                            @*<label>Search Stories </label>*@
                            @Html.TextBoxFor(model => model.SearchKey, new { placeholder = "Enter Text Here" }) 
                            <input type="submit" class="btn"  name="filterbykey" value="Search Stories"/>

                            <label> Genre </label>
                            @Html.DropDownList("SelectedGenre", Model.GenreValues, "Select Genre")

                            <label> Type </label>
                            @Html.DropDownList("SelectedType", Model.TypeValues, "Select Type")

                            <input type="submit" class="btn" name="filter" value="Filter Stories"/>
                        </td>
                    </tr>
                </table>

                <table class="table">

                    <tr>
                        <th style="text-align: center">Serial No.</th>
                        <th style="text-align: center">Title</th>
                        <th style="text-align: center">Content</th>
                        <th style="text-align: center"></th>
                    </tr>

                    @for (int i = 1; i <= Model.Stories.Count; i++)
                    {
                        <tr>
                            <td style="text-align: left">
                                <label>@i.</label>
                            </td>
                            <td style="text-align: left; margin: 0px ">

                                <div style="text-align: center; overflow: auto; min-width: 250px; max-height: 50px;">
                                    @Html.DisplayFor(modelItem => Model.Stories[i - 1].Title)
                                </div>
                            </td>

                            <td style="text-align: center; overflow: auto">
                                <div style="text-align: center; overflow: auto; max-height: 50px;">
                                    @Html.DisplayFor(modelItem => Model.Stories[i - 1].Content)
                                </div>
                            </td>
                            <td style="text-align: right">
                                @*<input type="submit" name="Contribute" value="Contribute"/>*@
                                <input type="button" class="btn" value="Contribute" onclick="window.location.href='@Url.Action("FilterStories", "Home", new { storyID = Model.Stories[i-1].StoryID})'" />
                            </td>
                        </tr>
                    }

                </table>
            </form>
        </div>
    </body>
}





