@*@model IEnumerable<SSDI_SPILELApplication.Models.StoryModel>*@
@model SSDI_SPILELApplication.Models.StorySuggestionsModel

@{
    ViewBag.Title = Model.CurrentStory.Title + " | View Suggestions";
}
<head>
    <script src="~/Scripts/angular.min.js"></script>
</head>
@using (Html.BeginForm("FilterStories", "Home", FormMethod.Post)) {
    <body>
        <div ng-app="BrowseSuggestions" ng-controller="BrowseSuggestionsController">
            <form id="BrowseSuggestions" name="BrowseSuggestions">
                <table class="table">
                    <tr>
                        <td style="text-align:center">
                            <h2>
                                @Html.DisplayFor(modelItem => Model.CurrentStory.Title)
                            </h2>
                            <h3>
                                @(Html.DisplayFor(modelItem => Model.CurrentStory.Scenario) + "\n\n" + Html.DisplayFor(modelItem => Model.CurrentStory.Content))
                            </h3>
                        </td>
                    </tr>
                </table>



                <table class="table">

                    <tr>
                        <th style="text-align:center">Date</th>
                        <th style="text-align:center">Content</th>
                        <th style="text-align:center"></th>
                    </tr>

                    @if(Model.Suggestions.Count > 0)
                    {for (int i = 0; i < Model.Suggestions.Count; i++) {
                            <tr>
                                <td style="text-align:left; margin:0px,0px,0px,0px">

                                    <div style="text-align:center; overflow:auto; min-width:250px; max-height:50px;">
                                        @Html.DisplayFor(modelItem => Model.Suggestions[i].DatePosted)
                                    </div>
                                </td>

                                <td style="text-align:center; overflow:auto">
                                    <div style="text-align:center; overflow:auto; max-height:50px;">
                                        @Model.Suggestions[i].Content.PadRight(32).Substring(0, 32)...
                                        
                                    </div>
                                </td>
                                <td style="text-align:right">
                                    <input type="button" value="View" class="btn" onclick="window.location.href='@Url.Action("ViewSuggestion", "Home", new { suggestionID = Model.Suggestions[i].SuggestionID })'"/>
                                </td>
                                @*<td>
                                        @Html.DisplayFor(modelItem => item.Scenario)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Content)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.StoryID)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Type)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Genre)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.To)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.From)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.MessageString)
                                    </td>*@
                            </tr>
                        }
                    }

                </table>
            </form>
        </div>
    </body>
}





